{"ast":null,"code":"import Axios from 'axios';\nexport const setUser = () => {\n  return async (dispatch, getState) => {\n    const token = localStorage.getItem('userAuthToken');\n    const url = \"keepnotesec.herokuapp.com/api//users/account\";\n    console.log(\"URL\", url);\n\n    try {\n      // const response = await fetch(url, {\n      // \tmethod: 'POST',\n      // \theaders: {\"x-auth\": token},\n      // \tbody: {}\n      // })\n      // const responseData = await response.json()\n      const response = await Axios({\n        method: 'post',\n        url: url,\n        data: {},\n        headers: {\n          \"x-auth\": token\n        }\n      });\n      const responseData = await response.data;\n      dispatch({\n        type: 'SET_USER',\n        payload: responseData\n      });\n    } catch (error) {\n      console.log(\"ERROR\", error);\n    }\n  };\n};","map":{"version":3,"sources":["/home/s/personal/Javascript/React/contesting-engine/src/REDUX_STORE/ACTIONS/UserAction.js"],"names":["Axios","setUser","dispatch","getState","token","localStorage","getItem","url","console","log","response","method","data","headers","responseData","type","payload","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC5B,SAAO,OAAOC,QAAP,EAAgBC,QAAhB,KAA6B;AACnC,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAd;AAEA,UAAMC,GAAG,GAAG,8CAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB;;AACA,QAAI;AACH;AACA;AACA;AACA;AACA;AACA;AAEA,YAAMG,QAAQ,GAAG,MAAMV,KAAK,CAAC;AACnBW,QAAAA,MAAM,EAAE,MADW;AAEnBJ,QAAAA,GAAG,EAAEA,GAFc;AAGnBK,QAAAA,IAAI,EAAE,EAHa;AAInBC,QAAAA,OAAO,EAAE;AAAC,oBAAUT;AAAX;AAJU,OAAD,CAA5B;AAOG,YAAMU,YAAY,GAAG,MAAMJ,QAAQ,CAACE,IAApC;AACAV,MAAAA,QAAQ,CAAC;AAACa,QAAAA,IAAI,EAAE,UAAP;AAAkBC,QAAAA,OAAO,EAAEF;AAA3B,OAAD,CAAR;AAEH,KAlBD,CAkBC,OAAMG,KAAN,EAAY;AACZT,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBQ,KAArB;AACA;AACD,GA1BD;AA2BA,CA5BM","sourcesContent":["import Axios from 'axios'\nexport const setUser = () => {\n\treturn async (dispatch,getState) => {\n\t\tconst token = localStorage.getItem('userAuthToken') \n\t\t\n\t\tconst url = \"keepnotesec.herokuapp.com/api//users/account\"\n\t\tconsole.log(\"URL\", url)\n\t\ttry {\n\t\t\t// const response = await fetch(url, {\n\t\t\t// \tmethod: 'POST',\n\t\t\t// \theaders: {\"x-auth\": token},\n\t\t\t// \tbody: {}\n\t\t\t// })\n\t\t\t// const responseData = await response.json()\n\n\t\t\tconst response = await Axios({\n            \tmethod: 'post',\n            \turl: url,\n            \tdata: {},\n            \theaders: {\"x-auth\": token}\n        \t})\n\n\t\t    const responseData = await response.data\n\t\t    dispatch({type: 'SET_USER',payload: responseData})\n\n\t\t}catch(error){\n\t\t\tconsole.log(\"ERROR\", error)\n\t\t}\n\t}\n}"]},"metadata":{},"sourceType":"module"}