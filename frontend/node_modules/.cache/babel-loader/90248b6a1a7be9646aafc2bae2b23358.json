{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/s/personal/Javascript/React/contesting-engine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useEffect,useState}from'react';import{BrowserRouter,Route,Redirect}from'react-router-dom';import Layout from'./UI/Layout';import Contests from'./CONTAINERS/Contests';import Winners from'./CONTAINERS/Winners';import Slots from'./CONTAINERS/Slots';import Reports from'./CONTAINERS/Reports';import Auth from'./CONTAINERS/Auth/Auth';// auth context \nimport{AuthContext}from'./CONTEXTS/AuthContext';// dispatch action\n// import { useDispatch } from 'react-redux'\nvar App=function App(){// const dispatch = useDispatch()\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoggedIn=_useState2[0],setIsLoggedIn=_useState2[1];var login=useCallback(function(){setIsLoggedIn(true);},[setIsLoggedIn]);var logout=useCallback(function(){setIsLoggedIn(false);// localStorage.removeItem('userAuthToken')\n// dispatch(logout())\n},[setIsLoggedIn]);useEffect(function(){var userData=localStorage.getItem('userData');if(userData){// dispatch(setUser())\nsetIsLoggedIn(true);}else{setIsLoggedIn(false);}},[setIsLoggedIn]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:isLoggedIn,login:login,logout:logout},children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Layout,{children:isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/contests\",component:Contests,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/slots\",component:Slots,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/winners\",component:Winners,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",component:Reports,exact:true}),/*#__PURE__*/_jsx(Redirect,{to:\"contests\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/authentication\",component:Auth,exact:true}),/*#__PURE__*/_jsx(Redirect,{to:\"/authentication\"})]})})})})});};export default App;","map":{"version":3,"sources":["/home/s/personal/Javascript/React/contesting-engine/src/App.js"],"names":["React","useCallback","useEffect","useState","BrowserRouter","Route","Redirect","Layout","Contests","Winners","Slots","Reports","Auth","AuthContext","App","isLoggedIn","setIsLoggedIn","login","logout","userData","localStorage","getItem"],"mappings":"uTAAA,MAAOA,CAAAA,KAAP,EAAcC,WAAd,CAA2BC,SAA3B,CAAsCC,QAAtC,KAAqD,OAArD,CAEA,OAAQC,aAAR,CAAuBC,KAAvB,CAA8BC,QAA9B,KAA6C,kBAA7C,CAEA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CAEA;AACA,OAASC,WAAT,KAA4B,wBAA5B,CAEA;AACA;AAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CACjB;AADiB,cAGmBX,QAAQ,CAAC,KAAD,CAH3B,wCAGVY,UAHU,eAGEC,aAHF,eAKjB,GAAMC,CAAAA,KAAK,CAAGhB,WAAW,CAAC,UAAM,CAC/Be,aAAa,CAAC,IAAD,CAAb,CACA,CAFwB,CAEtB,CAACA,aAAD,CAFsB,CAAzB,CAIA,GAAME,CAAAA,MAAM,CAAGjB,WAAW,CAAC,UAAM,CAChCe,aAAa,CAAC,KAAD,CAAb,CACA;AACA;AACA,CAJyB,CAIvB,CAACA,aAAD,CAJuB,CAA1B,CAMAd,SAAS,CAAC,UAAM,CACf,GAAMiB,CAAAA,QAAQ,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB,CACA,GAAGF,QAAH,CAAY,CACX;AACAH,aAAa,CAAC,IAAD,CAAb,CACA,CAHD,IAGK,CACJA,aAAa,CAAC,KAAD,CAAb,CACA,CACD,CARQ,CAQN,CAACA,aAAD,CARM,CAAT,CAUC,mBACC,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAI,CAACD,UAAU,CAAVA,UAAD,CAAaE,KAAK,CAALA,KAAb,CAAoBC,MAAM,CAANA,MAApB,CAA/B,uBACC,KAAC,aAAD,wBACC,kCACE,KAAC,MAAD,WACCH,UAAU,cACV,wCACF,KAAC,KAAD,EAAO,IAAI,CAAG,WAAd,CAA0B,SAAS,CAAIP,QAAvC,CAAiD,KAAK,KAAtD,EADE,cAEF,KAAC,KAAD,EAAO,IAAI,CAAG,QAAd,CAAuB,SAAS,CAAIE,KAApC,CAA2C,KAAK,KAAhD,EAFE,cAGF,KAAC,KAAD,EAAO,IAAI,CAAG,UAAd,CAAyB,SAAS,CAAID,OAAtC,CAA+C,KAAK,KAApD,EAHE,cAIF,KAAC,KAAD,EAAO,IAAI,CAAG,UAAd,CAAyB,SAAS,CAAIE,OAAtC,CAA+C,KAAK,KAApD,EAJE,cAKF,KAAC,QAAD,EAAU,EAAE,CAAG,UAAf,EALE,GADU,cASV,wCACF,KAAC,KAAD,EAAO,IAAI,CAAG,iBAAd,CAAgC,SAAS,CAAIC,IAA7C,CAAmD,KAAK,KAAxD,EADE,cAEF,KAAC,QAAD,EAAU,EAAE,CAAG,iBAAf,EAFE,GAVD,EADF,EADD,EADD,EADD,CAwBD,CAjDD,CAmDA,cAAeE,CAAAA,GAAf","sourcesContent":["import React,{useCallback, useEffect, useState} from 'react'\n\nimport {BrowserRouter, Route, Redirect} from 'react-router-dom'\n\nimport Layout from './UI/Layout'\nimport Contests from './CONTAINERS/Contests'\nimport Winners from './CONTAINERS/Winners'\nimport Slots from './CONTAINERS/Slots'\nimport Reports from './CONTAINERS/Reports'\nimport Auth from './CONTAINERS/Auth/Auth'\n\n// auth context \nimport { AuthContext } from './CONTEXTS/AuthContext'\n\n// dispatch action\n// import { useDispatch } from 'react-redux'\n\nconst App = () => {\n\t// const dispatch = useDispatch()\n\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false)\n\n\tconst login = useCallback(() => {\n\t\tsetIsLoggedIn(true)\n\t}, [setIsLoggedIn])\n\n\tconst logout = useCallback(() => {\n\t\tsetIsLoggedIn(false)\n\t\t// localStorage.removeItem('userAuthToken')\n\t\t// dispatch(logout())\n\t}, [setIsLoggedIn])\n\n\tuseEffect(() => {\n\t\tconst userData = localStorage.getItem('userData')\n\t\tif(userData){\n\t\t\t// dispatch(setUser())\n\t\t\tsetIsLoggedIn(true)\n\t\t}else{\n\t\t\tsetIsLoggedIn(false)\n\t\t}\n\t}, [setIsLoggedIn])\n\n  return (\n  \t<AuthContext.Provider value = {{isLoggedIn, login, logout}}>\n\t  \t<BrowserRouter>\n\t\t  \t<div>\n\t\t\t    <Layout>\n\t\t\t    {isLoggedIn ? (\n\t\t\t    \t<>\n\t\t\t\t\t\t<Route path = \"/contests\" component = {Contests} exact/>\t\t    \t\n\t\t\t\t\t\t<Route path = \"/slots\" component = {Slots} exact/>\t\t    \t\n\t\t\t\t\t\t<Route path = \"/winners\" component = {Winners} exact/>\t\t    \t\n\t\t\t\t\t\t<Route path = \"/reports\" component = {Reports} exact/>\t\n\t\t\t\t\t\t<Redirect to = \"contests\"/>\n\t\t\t    \t</>\n\t\t\t    \t) : (\n\t\t\t    \t<>\n\t\t\t\t\t\t<Route path = \"/authentication\" component = {Auth} exact />\n\t\t\t\t\t\t<Redirect to = \"/authentication\" />\n\t\t\t    \t</>\n\t\t\t    \t)}\n\t\t\t    </Layout>\n\t\t    </div>\n\t    </BrowserRouter>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}