{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/s/personal/Javascript/React/contesting-engine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/s/personal/Javascript/React/contesting-engine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useEffect}from'react';import classes from'../CSS/Input.module.css';import{validate}from'../UTIL/validators';var inputReducer=function inputReducer(state,action){switch(action.type){case'CHANGE':return _objectSpread(_objectSpread({},state),{},{value:action.value,isValid:validate(action.value,action.validators)});case'TOUCH':return _objectSpread(_objectSpread({},state),{},{isTouched:true});default:return state;}};var Input=function Input(props){var initialState={value:'',isValid:false,isTouched:false};var _useReducer=useReducer(inputReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),inputState=_useReducer2[0],dispatch=_useReducer2[1];var inputElement=null;var inputChangeHandler=function inputChangeHandler(event){dispatch({type:'CHANGE',value:event.target.value,validators:props.validators});};var touchHandler=function touchHandler(){dispatch({type:'TOUCH'});};switch(props.inputtype){case'input':inputElement=/*#__PURE__*/_jsx(\"input\",{type:props.type,id:props.id,name:props.name,placeholder:props.placeholder,className:classes.InputElement,onChange:inputChangeHandler,value:inputState.value,onBlur:touchHandler});break;case'textarea':inputElement=/*#__PURE__*/_jsx(\"textarea\",_objectSpread({className:classes.InputElement},props));break;default:inputElement=/*#__PURE__*/_jsx(\"input\",_objectSpread({className:classes.InputElement},props));}var id=props.id,onInput=props.onInput;var value=inputState.value,isValid=inputState.isValid;useEffect(function(){onInput(id,value,isValid);},[id,value,isValid,onInput]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.Input,children:[/*#__PURE__*/_jsx(\"label\",{className:classes.Label,children:props.label}),inputElement,!inputState.isValid&&inputState.isTouched&&/*#__PURE__*/_jsx(\"p\",{children:props.errortext})]});};export default Input;","map":{"version":3,"sources":["/home/s/personal/Javascript/React/contesting-engine/src/UI/Input.js"],"names":["React","useReducer","useEffect","classes","validate","inputReducer","state","action","type","value","isValid","validators","isTouched","Input","props","initialState","inputState","dispatch","inputElement","inputChangeHandler","event","target","touchHandler","inputtype","id","name","placeholder","InputElement","onInput","Label","label","errortext"],"mappings":"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","sourcesContent":["import React, {useReducer, useEffect} from 'react'\n\nimport classes from '../CSS/Input.module.css'\nimport { validate } from '../UTIL/validators'\n\nconst inputReducer = (state, action) => {\n\tswitch(action.type){\n\t\tcase 'CHANGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvalue: action.value,\n\t\t\t\tisValid: validate(action.value, action.validators)\n\t\t\t}\n\t\tcase 'TOUCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisTouched: true\n\t\t\t}\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\nconst Input = (props) => {\n\n\tconst initialState = {value: '', isValid: false, isTouched: false}\n\n\tconst [inputState, dispatch] = useReducer(inputReducer, initialState)\n\n\tlet inputElement = null;\n\t\n\tconst inputChangeHandler = event => {\n\t\tdispatch({\n\t\t\ttype: 'CHANGE',\n\t\t\tvalue: event.target.value,\n\t\t\tvalidators: props.validators\n\t\t})\n\t}\n\n\tconst touchHandler = () => {\n\t\tdispatch({\n\t\t\ttype: 'TOUCH'\n\t\t})\n\t}\n\n\tswitch(props.inputtype){\n\t\tcase ('input') : \n\t\t\tinputElement = <input  \n\t\t\t\ttype = {props.type} \n\t\t\t\tid = {props.id}\n\t\t\t\tname = {props.name}\n\t\t\t\tplaceholder = {props.placeholder}\n\t\t\t\tclassName={classes.InputElement}\n\t\t\t\tonChange = {inputChangeHandler}\n\t\t\t\tvalue = {inputState.value}\n\t\t\t\tonBlur = {touchHandler}\n\t\t\t/>\n\t\t\t\n\t\t\tbreak;\n\t\tcase ('textarea') : \n\t\t\tinputElement = <textarea  className = {classes.InputElement} {...props} />\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tinputElement = <input  className = {classes.InputElement} {...props} />\n\t}\n\n\tconst {id, onInput} = props\n\tconst {value, isValid} = inputState\n\n\tuseEffect(() => {\n\t\tonInput(id, value, isValid)\n\t\t\n\t}, [id, value, isValid, onInput])\n\n\treturn (\n\t\t<div className = {classes.Input}>\n\t\t\t{<label className = {classes.Label} >{props.label}</label>}\n\t\t\t{inputElement}\n\t\t\t{!inputState.isValid && inputState.isTouched && <p>{props.errortext}</p>}\n\t\t</div>\n\t)\n}\n\nexport default Input;"]},"metadata":{},"sourceType":"module"}